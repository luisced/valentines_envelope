<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contador de Aniversario</title>
  <style>
        @import url('https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap');

    :root {
      --primary: white;
      --bg-color: rgb(253, 246, 236);
    }
    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: var(--bg-color);
      margin: 0;
      font-family: 'Amatic SC', cursive;
    }
    svg {
      overflow: visible;
      position: fixed;
      top: 10vh;
    }
    svg path#line {
      fill: none;
      stroke: #e00000;
      stroke-width: 2;
      stroke-linecap: butt;
      stroke-linejoin: round;
      stroke-miterlimit: 4;
      stroke-dasharray: 1;
      stroke-dashoffset: 1;
      animation: dash 4s linear infinite;
    }
    svg path#heart {
      transform-origin: 50% 50%;
      animation: blink 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    }
    @keyframes dash {
      0%   { stroke-dashoffset: 1; opacity: 1; }
      95%  { stroke-dashoffset: 0; opacity: 1; }
      100% { stroke-dashoffset: 0; opacity: 0; }
    }
    @keyframes blink {
      0%   { opacity: 0; transform: scale(0); }
      60%  { opacity: 0; transform: scale(0); }
      70%  { opacity: 1; transform: scale(1.2); }
      75%  { transform: scale(1); }
      85%  { transform: scale(1); opacity: 1; }
      95%  { transform: scale(0.9); opacity: 0.5; }
      100% { opacity: 0; transform: scale(0); }
    }
    /* Contador minimal */
    #counter {
      margin-top: 25vh;
      font-size: 1.5rem;
      color: #c2465d;
      font-weight: 600;
      text-align: center;
      max-width: 90%;
      line-height: 1.3;
    }
  </style>
</head>
<body>
  <!-- SVG animado -->
  <svg xmlns="http://www.w3.org/2000/svg" id="svg5" version="1.1" viewBox="0 0 502.98 108.61">
    <path id="heart" d="M213.35 29.43c19.41-15.19 33.68 10.86 37.73 18.82-.28-13.61 11.64-40.98 25.94-34.01 32.3 15.74-15.88 83.8-26.4 81.76-13.24-9-51.35-53.3-37.27-66.57Z" style="fill:#ff9999;stroke:#ff9999;stroke-width:1.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/>
    <path id="line" pathLength="1" d="M5.32 78.13c.96-.01 5-8.5 5.54-8.54.58-.05 6.1 8.51 7.1 8.51 3.66 0 9.29.06 10.71.05 2.53-.01 4.82-72.89 4.82-72.89l4.76 97.28 3.97-24.45 20.45-.22C64 77.86 77.1 63.66 78.36 63.8c1.31.15 6.68 14.08 7.94 14.07 2.29-.03 33.32.04 35.76.02.95 0 5-8.5 5.53-8.54.58-.04 6.1 8.52 7.1 8.52 3.66 0 9.3.06 10.72.05 2.53-.02 4.81-72.89 4.81-72.89l4.77 97.28 3.97-24.44s83.34-3.33 74.69 7.67c-8.65 11-45.3-42.94-31.65-53.58 25.6-19.96 49.96 36.94 40.26 36.5-12.2-.53 1.8-62.32 23.41-51.7 32.24 15.86-17.56 84.92-26.4 81.77-5.73-2.05-.68-21.68 31.4-26.58 26.65-6.42 29.5 2.35 52.62 7.11 2.53-.02 4.82-72.89 4.82-72.89l4.76 97.28 3.97-24.44 20.45-.22c1.31-.02 14.41-14.22 15.68-14.07 1.32.15 6.7 14.08 7.95 14.07"/>
  </svg>
  
  <!-- Contador minimal -->
  <div id="counter"></div>
  
  <script>
    // Función para obtener la diferencia en años, meses, días, horas, minutos y segundos
    function getDiffComponents(start, end) {
      let years = end.getFullYear() - start.getFullYear();
      let months = end.getMonth() - start.getMonth();
      let days = end.getDate() - start.getDate();
      let hours = end.getHours() - start.getHours();
      let minutes = end.getMinutes() - start.getMinutes();
      let seconds = end.getSeconds() - start.getSeconds();

      if (seconds < 0) { seconds += 60; minutes--; }
      if (minutes < 0) { minutes += 60; hours--; }
      if (hours < 0) { hours += 24; days--; }
      if (days < 0) {
        // Obtener el número de días del mes anterior
        const prevMonth = new Date(end.getFullYear(), end.getMonth(), 0);
        days += prevMonth.getDate();
        months--;
      }
      if (months < 0) { months += 12; years--; }

      return { years, months, days, hours, minutes, seconds };
    }
    
    // Fecha de inicio: 12 de enero de 2025 a las 5:30
    const startDate = new Date("2025-01-12T05:30:00");
    
    function updateCounter() {
      const now = new Date();
      const diff = getDiffComponents(startDate, now);
      
      // Construir la cadena de tiempo juntos (se muestran años y meses solo si son mayores a 0)
      let togetherStr = "";
      if(diff.years > 0) {
        togetherStr += diff.years + (diff.years === 1 ? " año, " : " años, ");
      }
      if(diff.months > 0 || diff.years > 0) {
        togetherStr += diff.months + (diff.months === 1 ? " mes, " : " meses, ");
      }
      togetherStr += diff.days + (diff.days === 1 ? " día, " : " días, ");
      togetherStr += diff.hours + (diff.hours === 1 ? " hora, " : " horas, ");

      // Calcular el próximo aniversario mensual (se asume mismo día y hora cada mes)
      let nextAnniversary = new Date(startDate);
      while (nextAnniversary <= now) {
        nextAnniversary.setMonth(nextAnniversary.getMonth() + 1);
      }
      const remaining = nextAnniversary - now;
      const daysRemaining = Math.floor(remaining / (1000 * 60 * 60 * 24));
      const hoursRemaining = Math.floor((remaining / (1000 * 60 * 60)) % 24);
      const minutesRemaining = Math.floor((remaining / (1000 * 60)) % 60);
      const secondsRemaining = Math.floor((remaining / 1000) % 60);
      
      let nextStr = `Faltan ${daysRemaining} días, ${hoursRemaining} horas, ${minutesRemaining} minutos y ${secondsRemaining} segundos para el próximo aniversario.`;
      
      document.getElementById("counter").textContent = "Llevamos juntos: " + togetherStr + ". " + nextStr;
    }
    
    setInterval(updateCounter, 1000);
    updateCounter();
  </script>
</body>
</html>
